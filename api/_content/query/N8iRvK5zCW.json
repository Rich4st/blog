{"_path":"/_/openlayers","_dir":"_","_draft":false,"_partial":true,"_locale":"en","_empty":false,"title":"Vue3使用OpenLayers","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"vue3使用openlayers"},"children":[{"type":"text","value":"Vue3使用OpenLayers"}]},{"type":"element","tag":"h3","props":{"id":"环境-environment"},"children":[{"type":"text","value":"环境 Environment"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Vue版本："}]},{"type":"text","value":" 3.2.25"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Vite版本："}]},{"type":"text","value":" 2.9.9"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Node版本："}]},{"type":"text","value":" 16.15.1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"OpenLayers版本："}]},{"type":"text","value":" 6.14.1"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"openlayers简介-introductino"},"children":[{"type":"text","value":"OpenLayers简介 Introductino"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://openlayers.org/","rel":["nofollow"]},"children":[{"type":"text","value":"OpenLayers"}]},{"type":"text","value":" 是一个用来开发地图应用的高性能、功能丰富且完全免费的"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"库，可以满足几乎所有的地图开发需求。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"-创建项目-init-project"},"children":[{"type":"text","value":"🛠 创建项目 Init project"}]},{"type":"element","tag":"h4","props":{"id":"1-通过vite创建vue3项目"},"children":[{"type":"text","value":"1. 通过Vite创建Vue3项目"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Npm:"}]},{"type":"element","tag":"code","props":{"code":"npm create vite@latest\n","language":"shel"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm create vite@latest\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Yarn:"}]},{"type":"element","tag":"code","props":{"code":"yarn create vite\n","language":"shel"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn create vite\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"pnpm:"}]},{"type":"element","tag":"code","props":{"code":"pnpm create vite\n","language":"she"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pnpm create vite\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之后根据引导配置项目。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"2-安装openlayers"},"children":[{"type":"text","value":"2. 安装OpenLayers"}]},{"type":"element","tag":"code","props":{"code":"npm install ol\n","language":"she"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm install ol\n"}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"3-生成一个简单的地图"},"children":[{"type":"text","value":"3. 生成一个简单的地图"}]},{"type":"element","tag":"code","props":{"code":"<template>\n  <div class=\"ol-map\" ref=\"olMap\"></div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, ref } from 'vue'\nimport Map from 'ol/Map'\nimport View from 'ol/View'\nimport { Tile as TileLayer } from 'ol/layer'\nimport { XYZ, OSM } from 'ol/source'\nimport { fromLonLat } from 'ol/proj'\nconst olMap = ref<HTMLElement>()\n\nfunction initMap() {\n\n  // fromLonLat方法能将坐标从经度/纬度转换为其他投影\n\n  // 使用内置的OSM\n  //const tileLayer = new TileLayer({\n  //    source: new OSM()\n  //})\n  // 使用高德\n  const tileLayer = new TileLayer({\n    source: new XYZ({\n      url: 'https://webrd01.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}'\n    })\n  })\n  let map = new Map({\n    layers: [tileLayer],\n    view: new View({\n      center: fromLonLat([120.771441, 30.756433]),//地图中心点\n      zoom: 15,// 缩放级别\n      minZoom: 0,// 最小缩放级别\n      maxZoom: 18,// 最大缩放级别\n      constrainResolution: true// 因为存在非整数的缩放级别，所以设置该参数为true来让每次缩放结束后自动缩放到距离最近的一个整数级别，这个必须要设置，当缩放在非整数级别时地图会糊\n    }),\n    target: olMap.value// DOM容器\n  })\n}\n\nonMounted(() => {\n  initMap()\n})\n\n</script>\n\n<style scoped>\n.ol-map {\n  width: 100%;\n  height: 100vh;\n}\n</style>\n\n","language":"vue"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n  <div class=\"ol-map\" ref=\"olMap\"></div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, ref } from 'vue'\nimport Map from 'ol/Map'\nimport View from 'ol/View'\nimport { Tile as TileLayer } from 'ol/layer'\nimport { XYZ, OSM } from 'ol/source'\nimport { fromLonLat } from 'ol/proj'\nconst olMap = ref<HTMLElement>()\n\nfunction initMap() {\n\n  // fromLonLat方法能将坐标从经度/纬度转换为其他投影\n\n  // 使用内置的OSM\n  //const tileLayer = new TileLayer({\n  //    source: new OSM()\n  //})\n  // 使用高德\n  const tileLayer = new TileLayer({\n    source: new XYZ({\n      url: 'https://webrd01.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}'\n    })\n  })\n  let map = new Map({\n    layers: [tileLayer],\n    view: new View({\n      center: fromLonLat([120.771441, 30.756433]),//地图中心点\n      zoom: 15,// 缩放级别\n      minZoom: 0,// 最小缩放级别\n      maxZoom: 18,// 最大缩放级别\n      constrainResolution: true// 因为存在非整数的缩放级别，所以设置该参数为true来让每次缩放结束后自动缩放到距离最近的一个整数级别，这个必须要设置，当缩放在非整数级别时地图会糊\n    }),\n    target: olMap.value// DOM容器\n  })\n}\n\nonMounted(() => {\n  initMap()\n})\n\n</script>\n\n<style scoped>\n.ol-map {\n  width: 100%;\n  height: 100vh;\n}\n</style>\n\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"**注意：**⚠️"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"需要在"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"onMounted"}]},{"type":"text","value":"生命周期钩子中初始化地图"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"要为ol-map设置宽高，否则渲染地图会失败❗️❗️❗️"}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"-ootb-开箱即用的控件"},"children":[{"type":"text","value":"📦 OOTB 开箱即用的控件"}]},{"type":"element","tag":"h4","props":{"id":"-fullscreen"},"children":[{"type":"text","value":"💻 FullScreen"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"全屏切换"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官方文档："}]},{"type":"text","value":"  "},{"type":"element","tag":"a","props":{"href":"https://openlayers.org/en/latest/apidoc/module-ol_control_FullScreen-FullScreen.html","rel":["nofollow"]},"children":[{"type":"text","value":"FullScreen Docs"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引入控件"}]}]},{"type":"element","tag":"code","props":{"code":"import { defaults, FullScreen } from 'ol/control' // 需要引入控件再引入FullScreen控件让默认控件继承全屏控件\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { defaults, FullScreen } from 'ol/control' // 需要引入控件再引入FullScreen控件让默认控件继承全屏控件\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用控件"}]}]},{"type":"element","tag":"code","props":{"code":"...\nlet map = new Map(\n {\n   ...\n   controls： default.extends([\n        new FullScreen({  \n         // 全屏控件的配置，可在官方文档查看\n        })\n     ])\n })\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\nlet map = new Map(\n {\n   ...\n   controls： default.extends([\n        new FullScreen({  \n         // 全屏控件的配置，可在官方文档查看\n        })\n     ])\n })\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"通过class选择控件将按钮"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"innerHTML"}]},{"type":"text","value":"设置为图标"}]}]},{"type":"element","tag":"code","props":{"code":"const fsFalse = document.querySelector('.ol-full-screen-false')\nfsFalse!.innerHTML = '<img src=\"https://img.icons8.com/ios/50/000000/full-screen.png\" style=\"width: 26px;height: 32px;\" alt=\"\">'\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const fsFalse = document.querySelector('.ol-full-screen-false')\nfsFalse!.innerHTML = '<img src=\"https://img.icons8.com/ios/50/000000/full-screen.png\" style=\"width: 26px;height: 32px;\" alt=\"\">'\n"}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"-mouseposition"},"children":[{"type":"text","value":"🖱 MousePosition"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"显示鼠标位置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官方文档："}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://openlayers.org/en/latest/apidoc/module-ol_control_MousePosition-MousePosition.html","rel":["nofollow"]},"children":[{"type":"text","value":"MousePosition Docs"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引入控件"}]}]},{"type":"element","tag":"code","props":{"code":"import { defaults, MousePosition } from 'ol/control'\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { defaults, MousePosition } from 'ol/control'\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用控件"}]}]},{"type":"element","tag":"code","props":{"code":"...\nlet map = new Map(\n {\n   ...\n   controls： default.extends([\n        new MousePosition({  \n          projection: 'EPSG:4326', // 投影坐标系 \n          coordinateFormat: (coordinate) => { // 坐标格式化函数\n            return `经度：${coordinate![0].toFixed(5)}，纬度：${coordinate![1].toFixed(5)}`\n          },\n          className: 'ol-mouse-position', // 控件class名称\n          target: document.getElementById('mouse-position')!, // 控件显示位置的DOM容器,默认不需要设置\n          undefinedHTML: '未知', // 未定义坐标时显示的文字，比如鼠标移到地图或网页外\n          // ...更多配置参考官方文档\n        })\n     ])\n })\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\nlet map = new Map(\n {\n   ...\n   controls： default.extends([\n        new MousePosition({  \n          projection: 'EPSG:4326', // 投影坐标系 \n          coordinateFormat: (coordinate) => { // 坐标格式化函数\n            return `经度：${coordinate![0].toFixed(5)}，纬度：${coordinate![1].toFixed(5)}`\n          },\n          className: 'ol-mouse-position', // 控件class名称\n          target: document.getElementById('mouse-position')!, // 控件显示位置的DOM容器,默认不需要设置\n          undefinedHTML: '未知', // 未定义坐标时显示的文字，比如鼠标移到地图或网页外\n          // ...更多配置参考官方文档\n        })\n     ])\n })\n"}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"-scaleline"},"children":[{"type":"text","value":"📏 ScaleLine"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"显示地图比例尺"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官方文档："}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://openlayers.org/en/latest/apidoc/module-ol_control_ScaleLine-ScaleLine.html","rel":["nofollow"]},"children":[{"type":"text","value":"ScaleLine Docs"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引入控件"}]}]},{"type":"element","tag":"code","props":{"code":"import { defaults, ScaleLine } from 'ol/control'\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { defaults, ScaleLine } from 'ol/control'\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用控件"}]}]},{"type":"element","tag":"code","props":{"code":"...\nlet map = new Map(\n {\n   ...\n   controls： default.extends([\n        new ScaleLine({\n        className: 'ol-scale-line', // 控件class名称\n        // target: document.getElementById('scale-line')!, // 控件显示位置的DOM容器，默认不需要配置\n        minWidth: 200, // 最小宽度\n        units: 'metric', // 单位，可选值：'degrees', 'imperial', 'nautical', 'metric', 'us'\n        bar: true, // 渲染比例尺，默认为false渲染当前比例的值\n        // steps: 8, // 比例尺刻度数量，默认为4个刻度，仅在bar为true时有效\n        // text: true // 渲染比例尺上方的文本比例，默认为false渲染当前比例的值，仅在bar为true时有效\n        // ...更多配置参考官方文档\n      }),\n     ])\n })\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\nlet map = new Map(\n {\n   ...\n   controls： default.extends([\n        new ScaleLine({\n        className: 'ol-scale-line', // 控件class名称\n        // target: document.getElementById('scale-line')!, // 控件显示位置的DOM容器，默认不需要配置\n        minWidth: 200, // 最小宽度\n        units: 'metric', // 单位，可选值：'degrees', 'imperial', 'nautical', 'metric', 'us'\n        bar: true, // 渲染比例尺，默认为false渲染当前比例的值\n        // steps: 8, // 比例尺刻度数量，默认为4个刻度，仅在bar为true时有效\n        // text: true // 渲染比例尺上方的文本比例，默认为false渲染当前比例的值，仅在bar为true时有效\n        // ...更多配置参考官方文档\n      }),\n     ])\n })\n"}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"-地图事件"},"children":[{"type":"text","value":"🪝 地图事件"}]},{"type":"element","tag":"h4","props":{"id":"on"},"children":[{"type":"text","value":"on"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"监听特定类型的事件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官方文档："}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#on","rel":["nofollow"]},"children":[{"type":"text","value":"On Doc"}]}]}]},{"type":"element","tag":"h5","props":{"id":"moveend"},"children":[{"type":"text","value":"moveend"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"地图拖动事件，事件已经配置"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"节流"}]}]}]},{"type":"element","tag":"code","props":{"code":"map.on('moveend', (event) => {\n   console.log(event,'moveend') \n})\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"map.on('moveend', (event) => {\n   console.log(event,'moveend') \n})\n"}]}]}]},{"type":"element","tag":"h5","props":{"id":"rendercomplete"},"children":[{"type":"text","value":"rendercomplete"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"地图渲染完成后的回调，地图进行缩放后也会触发"}]}]},{"type":"element","tag":"code","props":{"code":"map.on('rendercomplete', (event) => {\n   console.log(event,'rendercomplete') \n})\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"map.on('rendercomplete', (event) => {\n   console.log(event,'rendercomplete') \n})\n"}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"once"},"children":[{"type":"text","value":"once"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"监听"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"一次"}]},{"type":"text","value":"特定类型的事件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官方文档："}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#once","rel":["nofollow"]},"children":[{"type":"text","value":"Once Docs"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"on中的"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"所有事件"}]},{"type":"text","value":"都可以通过once来只监听"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"一次"}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]}]},"icon":"edit","date":"2022-06-27T00:00:00.000Z","category":["Guide","OpenLayers"],"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"vue3使用openlayers"},"children":[{"type":"text","value":"Vue3使用OpenLayers"}]},{"type":"element","tag":"h3","props":{"id":"环境-environment"},"children":[{"type":"text","value":"环境 Environment"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Vue版本："}]},{"type":"text","value":" 3.2.25"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Vite版本："}]},{"type":"text","value":" 2.9.9"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Node版本："}]},{"type":"text","value":" 16.15.1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"OpenLayers版本："}]},{"type":"text","value":" 6.14.1"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"openlayers简介-introductino"},"children":[{"type":"text","value":"OpenLayers简介 Introductino"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://openlayers.org/","rel":["nofollow"]},"children":[{"type":"text","value":"OpenLayers"}]},{"type":"text","value":" 是一个用来开发地图应用的高性能、功能丰富且完全免费的"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"库，可以满足几乎所有的地图开发需求。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"-创建项目-init-project"},"children":[{"type":"text","value":"🛠 创建项目 Init project"}]},{"type":"element","tag":"h4","props":{"id":"1-通过vite创建vue3项目"},"children":[{"type":"text","value":"1. 通过Vite创建Vue3项目"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Npm:"}]},{"type":"element","tag":"code","props":{"code":"npm create vite@latest\n","language":"shel"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"npm create vite@latest"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Yarn:"}]},{"type":"element","tag":"code","props":{"code":"yarn create vite\n","language":"shel"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"yarn create vite"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"pnpm:"}]},{"type":"element","tag":"code","props":{"code":"pnpm create vite\n","language":"she"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pnpm create vite"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之后根据引导配置项目。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"2-安装openlayers"},"children":[{"type":"text","value":"2. 安装OpenLayers"}]},{"type":"element","tag":"code","props":{"code":"npm install ol\n","language":"she"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"npm install ol"}]}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"3-生成一个简单的地图"},"children":[{"type":"text","value":"3. 生成一个简单的地图"}]},{"type":"element","tag":"code","props":{"code":"<template>\n  <div class=\"ol-map\" ref=\"olMap\"></div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, ref } from 'vue'\nimport Map from 'ol/Map'\nimport View from 'ol/View'\nimport { Tile as TileLayer } from 'ol/layer'\nimport { XYZ, OSM } from 'ol/source'\nimport { fromLonLat } from 'ol/proj'\nconst olMap = ref<HTMLElement>()\n\nfunction initMap() {\n\n  // fromLonLat方法能将坐标从经度/纬度转换为其他投影\n\n  // 使用内置的OSM\n  //const tileLayer = new TileLayer({\n  //    source: new OSM()\n  //})\n  // 使用高德\n  const tileLayer = new TileLayer({\n    source: new XYZ({\n      url: 'https://webrd01.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}'\n    })\n  })\n  let map = new Map({\n    layers: [tileLayer],\n    view: new View({\n      center: fromLonLat([120.771441, 30.756433]),//地图中心点\n      zoom: 15,// 缩放级别\n      minZoom: 0,// 最小缩放级别\n      maxZoom: 18,// 最大缩放级别\n      constrainResolution: true// 因为存在非整数的缩放级别，所以设置该参数为true来让每次缩放结束后自动缩放到距离最近的一个整数级别，这个必须要设置，当缩放在非整数级别时地图会糊\n    }),\n    target: olMap.value// DOM容器\n  })\n}\n\nonMounted(() => {\n  initMap()\n})\n\n</script>\n\n<style scoped>\n.ol-map {\n  width: 100%;\n  height: 100vh;\n}\n</style>\n\n","language":"vue"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"<template>\n  <div class=\"ol-map\" ref=\"olMap\"></div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, ref } from 'vue'\nimport Map from 'ol/Map'\nimport View from 'ol/View'\nimport { Tile as TileLayer } from 'ol/layer'\nimport { XYZ, OSM } from 'ol/source'\nimport { fromLonLat } from 'ol/proj'\nconst olMap = ref<HTMLElement>()\n\nfunction initMap() {\n\n  // fromLonLat方法能将坐标从经度/纬度转换为其他投影\n\n  // 使用内置的OSM\n  //const tileLayer = new TileLayer({\n  //    source: new OSM()\n  //})\n  // 使用高德\n  const tileLayer = new TileLayer({\n    source: new XYZ({\n      url: 'https://webrd01.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}'\n    })\n  })\n  let map = new Map({\n    layers: [tileLayer],\n    view: new View({\n      center: fromLonLat([120.771441, 30.756433]),//地图中心点\n      zoom: 15,// 缩放级别\n      minZoom: 0,// 最小缩放级别\n      maxZoom: 18,// 最大缩放级别\n      constrainResolution: true// 因为存在非整数的缩放级别，所以设置该参数为true来让每次缩放结束后自动缩放到距离最近的一个整数级别，这个必须要设置，当缩放在非整数级别时地图会糊\n    }),\n    target: olMap.value// DOM容器\n  })\n}\n\nonMounted(() => {\n  initMap()\n})\n\n</script>\n\n<style scoped>\n.ol-map {\n  width: 100%;\n  height: 100vh;\n}\n</style>"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"**注意：**⚠️"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"需要在"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"onMounted"}]},{"type":"text","value":"生命周期钩子中初始化地图"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"要为ol-map设置宽高，否则渲染地图会失败❗️❗️❗️"}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"-ootb-开箱即用的控件"},"children":[{"type":"text","value":"📦 OOTB 开箱即用的控件"}]},{"type":"element","tag":"h4","props":{"id":"-fullscreen"},"children":[{"type":"text","value":"💻 FullScreen"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"全屏切换"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官方文档："}]},{"type":"text","value":"  "},{"type":"element","tag":"a","props":{"href":"https://openlayers.org/en/latest/apidoc/module-ol_control_FullScreen-FullScreen.html","rel":["nofollow"]},"children":[{"type":"text","value":"FullScreen Docs"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引入控件"}]}]},{"type":"element","tag":"code","props":{"code":"import { defaults, FullScreen } from 'ol/control' // 需要引入控件再引入FullScreen控件让默认控件继承全屏控件\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4757a8"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"defaults"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"FullScreen"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-4757a8"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'ol/control'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 需要引入控件再引入FullScreen控件让默认控件继承全屏控件"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用控件"}]}]},{"type":"element","tag":"code","props":{"code":"...\nlet map = new Map(\n {\n   ...\n   controls： default.extends([\n        new FullScreen({  \n         // 全屏控件的配置，可在官方文档查看\n        })\n     ])\n })\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-37c69a"},"children":[{"type":"text","value":"Map"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"controls"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"： "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"extends"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"(["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"FullScreen"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"({  "}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"         "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 全屏控件的配置，可在官方文档查看"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"     ])"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" })"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"通过class选择控件将按钮"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"innerHTML"}]},{"type":"text","value":"设置为图标"}]}]},{"type":"element","tag":"code","props":{"code":"const fsFalse = document.querySelector('.ol-full-screen-false')\nfsFalse!.innerHTML = '<img src=\"https://img.icons8.com/ios/50/000000/full-screen.png\" style=\"width: 26px;height: 32px;\" alt=\"\">'\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"fsFalse"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"document"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"querySelector"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'.ol-full-screen-false'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"fsFalse"}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"innerHTML"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'<img src=\"https://img.icons8.com/ios/50/000000/full-screen.png\" style=\"width: 26px;height: 32px;\" alt=\"\">'"}]}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"-mouseposition"},"children":[{"type":"text","value":"🖱 MousePosition"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"显示鼠标位置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官方文档："}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://openlayers.org/en/latest/apidoc/module-ol_control_MousePosition-MousePosition.html","rel":["nofollow"]},"children":[{"type":"text","value":"MousePosition Docs"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引入控件"}]}]},{"type":"element","tag":"code","props":{"code":"import { defaults, MousePosition } from 'ol/control'\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4757a8"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"defaults"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"MousePosition"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-4757a8"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'ol/control'"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用控件"}]}]},{"type":"element","tag":"code","props":{"code":"...\nlet map = new Map(\n {\n   ...\n   controls： default.extends([\n        new MousePosition({  \n          projection: 'EPSG:4326', // 投影坐标系 \n          coordinateFormat: (coordinate) => { // 坐标格式化函数\n            return `经度：${coordinate![0].toFixed(5)}，纬度：${coordinate![1].toFixed(5)}`\n          },\n          className: 'ol-mouse-position', // 控件class名称\n          target: document.getElementById('mouse-position')!, // 控件显示位置的DOM容器,默认不需要设置\n          undefinedHTML: '未知', // 未定义坐标时显示的文字，比如鼠标移到地图或网页外\n          // ...更多配置参考官方文档\n        })\n     ])\n })\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-37c69a"},"children":[{"type":"text","value":"Map"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"controls"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"： "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"extends"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"(["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"MousePosition"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"({  "}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"projection:"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'EPSG:4326'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 投影坐标系 "}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"coordinateFormat"}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"coordinate"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 坐标格式化函数"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-4757a8"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"`经度："}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"coordinate"}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"!["}]},{"type":"element","tag":"span","props":{"class":"ct-8dca9a"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"]."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"toFixed"}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8dca9a"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"，纬度："}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"coordinate"}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"!["}]},{"type":"element","tag":"span","props":{"class":"ct-8dca9a"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"]."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"toFixed"}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8dca9a"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"          },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"className:"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'ol-mouse-position'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 控件class名称"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"target:"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"document"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"getElementById"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'mouse-position'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 控件显示位置的DOM容器,默认不需要设置"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"undefinedHTML:"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'未知'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 未定义坐标时显示的文字，比如鼠标移到地图或网页外"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// ...更多配置参考官方文档"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"     ])"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" })"}]}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"-scaleline"},"children":[{"type":"text","value":"📏 ScaleLine"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"显示地图比例尺"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官方文档："}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://openlayers.org/en/latest/apidoc/module-ol_control_ScaleLine-ScaleLine.html","rel":["nofollow"]},"children":[{"type":"text","value":"ScaleLine Docs"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引入控件"}]}]},{"type":"element","tag":"code","props":{"code":"import { defaults, ScaleLine } from 'ol/control'\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4757a8"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"defaults"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"ScaleLine"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-4757a8"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'ol/control'"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用控件"}]}]},{"type":"element","tag":"code","props":{"code":"...\nlet map = new Map(\n {\n   ...\n   controls： default.extends([\n        new ScaleLine({\n        className: 'ol-scale-line', // 控件class名称\n        // target: document.getElementById('scale-line')!, // 控件显示位置的DOM容器，默认不需要配置\n        minWidth: 200, // 最小宽度\n        units: 'metric', // 单位，可选值：'degrees', 'imperial', 'nautical', 'metric', 'us'\n        bar: true, // 渲染比例尺，默认为false渲染当前比例的值\n        // steps: 8, // 比例尺刻度数量，默认为4个刻度，仅在bar为true时有效\n        // text: true // 渲染比例尺上方的文本比例，默认为false渲染当前比例的值，仅在bar为true时有效\n        // ...更多配置参考官方文档\n      }),\n     ])\n })\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-37c69a"},"children":[{"type":"text","value":"Map"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-d487b5"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"controls"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"： "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"extends"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"(["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"ScaleLine"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"className:"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'ol-scale-line'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 控件class名称"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// target: document.getElementById('scale-line')!, // 控件显示位置的DOM容器，默认不需要配置"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"minWidth:"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8dca9a"},"children":[{"type":"text","value":"200"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 最小宽度"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"units:"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'metric'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 单位，可选值：'degrees', 'imperial', 'nautical', 'metric', 'us'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"bar:"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// 渲染比例尺，默认为false渲染当前比例的值"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// steps: 8, // 比例尺刻度数量，默认为4个刻度，仅在bar为true时有效"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// text: true // 渲染比例尺上方的文本比例，默认为false渲染当前比例的值，仅在bar为true时有效"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c9176f"},"children":[{"type":"text","value":"// ...更多配置参考官方文档"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"      }),"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"     ])"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" })"}]}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"-地图事件"},"children":[{"type":"text","value":"🪝 地图事件"}]},{"type":"element","tag":"h4","props":{"id":"on"},"children":[{"type":"text","value":"on"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"监听特定类型的事件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官方文档："}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#on","rel":["nofollow"]},"children":[{"type":"text","value":"On Doc"}]}]}]},{"type":"element","tag":"h5","props":{"id":"moveend"},"children":[{"type":"text","value":"moveend"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"地图拖动事件，事件已经配置"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"节流"}]}]}]},{"type":"element","tag":"code","props":{"code":"map.on('moveend', (event) => {\n   console.log(event,'moveend') \n})\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"on"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'moveend'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", ("}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'moveend'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":") "}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"h5","props":{"id":"rendercomplete"},"children":[{"type":"text","value":"rendercomplete"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"地图渲染完成后的回调，地图进行缩放后也会触发"}]}]},{"type":"element","tag":"code","props":{"code":"map.on('rendercomplete', (event) => {\n   console.log(event,'rendercomplete') \n})\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"on"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'rendercomplete'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":", ("}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-ca62fd"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ffe3f6"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-fdc65b"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-bedda0"},"children":[{"type":"text","value":"'rendercomplete'"}]},{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":") "}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0e1b8d"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"once"},"children":[{"type":"text","value":"once"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"监听"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"一次"}]},{"type":"text","value":"特定类型的事件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官方文档："}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#once","rel":["nofollow"]},"children":[{"type":"text","value":"Once Docs"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"on中的"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"所有事件"}]},{"type":"text","value":"都可以通过once来只监听"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"一次"}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-8dca9a{color:#B5CEA8}.ct-ffe3f6{color:#DCDCAA}.ct-37c69a{color:#4EC9B0}.ct-ca62fd{color:#569CD6}.ct-d487b5{color:#D4D4D4}.ct-c9176f{color:#6A9955}.ct-bedda0{color:#CE9178}.ct-fdc65b{color:#9CDCFE}.ct-0e1b8d{color:#E6E6E6}.ct-4757a8{color:#C586C0}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"环境-environment","depth":3,"text":"环境 Environment"},{"id":"openlayers简介-introductino","depth":3,"text":"OpenLayers简介 Introductino"},{"id":"-创建项目-init-project","depth":3,"text":"🛠 创建项目 Init project"},{"id":"-ootb-开箱即用的控件","depth":3,"text":"📦 OOTB 开箱即用的控件"},{"id":"-地图事件","depth":3,"text":"🪝 地图事件"}]}},"_type":"markdown","_id":"content:_:openlayers.md","_source":"content","_file":"_/openlayers.md","_extension":"md"}